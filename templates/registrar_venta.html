{% extends 'bootstrap/base.html' %}
{% block head %}
    {{ super() }}
    <title>Registrar Venta</title>
    <link rel="stylesheet" href="../static/style.css">
{% endblock %}
{% block body %}
{% block navbar %}
    {% include 'navbar.html' %}
{% endblock %}
{% block content %}
<div class="container">
    <h2>Registrar Venta</h2>
    <div class="edit-form">
        <form action="{{ url_for('registrar_venta') }}" method="post">
            {{ form.hidden_tag() }}
            <div class="form-group">
                {{ form.fecha.label(class="form-control-label") }}
                {{ form.fecha(class="form-control") }}
            </div>
            <div class="form-group">
                {{ form.hora.label(class="form-control-label") }}
                {{ form.hora(class="form-control") }}
            </div>
            <div class="form-group">
                {{ form.usuario.label(class="form-control-label") }}
                {{ form.usuario(class="form-control") }}
            </div>
            <div class="form-group">
                {{ form.producto.label(class="form-control-label") }}
                {{ form.producto(class="form-control") }}
            </div>
            <div class="form-group">
                {{ form.cantidad.label(class="form-control-label") }}
                {{ form.cantidad(class="form-control", min="1", type="number") }}
            </div>
            <div class="form-group">
                <label class="form-control-label">Total</label>
                <input type="text" class="form-control" readonly value="0">
            </div>
            <button class="btn btn-primary" name="agregar" type="submit">Agregar al Carrito</button>
            <button class="btn btn-danger" name="cancelar" type="submit">Cancelar</button>
            <button class="btn btn-success" name="confirmar" type="submit">Confirmar Venta</button>
        </form>
    </div>

    <h3>Carrito</h3>
    <table class="table">
        <thead>
            <tr>
                <th>Producto</th>
                <th>Cantidad</th>
                <th>Precio</th>
                <th>Total</th>
            </tr>
        </thead>
        <tbody>
            {% for item in carrito %}
                <tr>
                    <td>{{ item.nombre }}</td>
                    <td>{{ item.cantidad }}</td>
                    <td>{{ item.precio }}</td>
                    <td>{{ item.total }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
{% endblock %}
